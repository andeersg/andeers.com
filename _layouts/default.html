<!DOCTYPE html>
<html>
  <head>
  {% include head.html %}
  </head>

  <body>

    {% include header.html %}

    <div class="page-content">
      <div class="wrapper">
        {{ content }}
      </div>
    </div>

    {% include footer.html %}

    <script>
      if (document.querySelectorAll('pre').length) {
        load.js('/assets/js/prism.js', function(err, url) {
          Prism.highlightAll();
        });
      }
      (function() {
        var ticking = false;
        var latestKnownScrollY = 0;
        function checkScroll() {
          latestKnownScrollY = window.scrollY;
          requestTick();
        }
        function update() {
          ticking = false;
          var currentScrollY = latestKnownScrollY + window.innerHeight;
          if (currentScrollY == document.body.offsetHeight) {
            {% if jekyll.environment != 'development' %}
            ga('send', 'event', {
              eventCategory: 'Page Activity',
              eventAction: 'scroll',
              eventLabel: '100%'
            });
            {% endif %}
          }
     
        };
        function requestTick() {
      	  if(!ticking) {
      		  requestAnimationFrame(update);
      	  }
          ticking = true;
        };
        window.addEventListener('scroll', checkScroll, false);
      })();
    </script>
  </body>
</html>
